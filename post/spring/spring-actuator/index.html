<!DOCTYPE html>
<html
  dir="ltr"
  lang="ko"
  data-theme="dark"
  class="html"
><head>
  <title>
    
      
        [μ¤ν”„λ§μΈμ•΅μ…] μ¤ν”„λ§ μ•΅μ¶”μ—μ΄ν„° μ‚¬μ© |

      
      lhj8390


    
  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.100.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="author" content="lhj8390" />
  <meta
    name="description"
    content="
      μ¤ν”„λ§ μ•΅μ¶”μ—μ΄ν„°λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ— λ€ν•΄ μ„¤λ…ν•λ‹¤.


    "
  />
  
  
    
    
    <link
      rel="stylesheet"
      href="/scss/main.min.2f604df480f84ff6415fc685caa908ddcb87c745baa11def4a91b709d56fb43e.css"
      integrity="sha256-L2BN9ID4T/ZBX8aFyqkI3cuHx0W6oR3vSpG3CdVvtD4="
      crossorigin="anonymous"
      type="text/css"
    />

  

  
  <link
    rel="stylesheet"
    href="/css/markupHighlight.min.b374260bc49a52bc6d0976d7bd23c96fae00552bcf5ae5cd91d58c4b6cb427bc.css"
    integrity="sha256-s3QmC8SaUrxtCXbXvSPJb64AVSvPWuXNkdWMS2y0J7w="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link rel="stylesheet" href="/fontawesome/css/fontawesome.min.1d14c463c20786ac959f4bd98e0ddc6056d936223bfc1dcbe7825ddc176121c1.css" integrity="" crossorigin="anonymous" type="text/css" />
  
  <link rel="stylesheet" href="/fontawesome/css/solid.min.dbef5d0848ad38377fc1031d9a05829ad77d1cdd54177a1e7063905b0876018a.css" integrity="" crossorigin="anonymous" type="text/css" />
  
  <link rel="stylesheet" href="/fontawesome/css/brands.min.bd884e18f3674c4c3ae3e69a8a6d7d29b822c5638132c1dc845abec77e955c3f.css" integrity="" crossorigin="anonymous" type="text/css" />
  
    
    
    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Fira&#43;Code&amp;display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/font/font.33b216bf2ce0242fb770f85d02cdcb6ddf9205b13dc01fba22dce3be9658cc28.css" integrity="" crossorigin="anonymous" type="text/css" />

  
  <link rel="shortcut icon" href="/favicons/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png" />

  <link rel="canonical" href="https://lhj8390.github.io/post/spring/spring-actuator/" />

  
  
  
  
  <script
    type="text/javascript"
    src="/js/anatole-header.min.7a513c87595b64079c749049bbefff5a20a8d88467b9d5e813e33bfcd29880de.js"
    integrity="sha256-elE8h1lbZAecdJBJu&#43;//WiCo2IRnudXoE&#43;M7/NKYgN4="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/js/anatole-theme-switcher.min.1d1e60dd5031959e835e253306615c60139c78c47abbc27e3ef3e28bf82098b4.js"
      integrity="sha256-HR5g3VAxlZ6DXiUzBmFcYBOceMR6u8J&#43;PvPii/ggmLQ="
      crossorigin="anonymous"
    ></script>

  

  <link crossorigin="anonymous" rel="preload" as="fetch" href="/index.json">
  <script defer crossorigin="anonymous" src="/assets/js/search.min.5c2d8adfb9cfbaa7936df065fd4f32f3137c1877a2fe15478d3ffb1a69db1471.js" integrity="sha256-XC2K37nPuqeTbfBl/U8y8xN8GHei/hVHjT/7GmnbFHE="></script>

  


  
  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://lhj8390.github.io/images/site-feature-image.png"/>

<meta name="twitter:title" content="[μ¤ν”„λ§μΈμ•΅μ…] μ¤ν”„λ§ μ•΅μ¶”μ—μ΄ν„° μ‚¬μ©"/>
<meta name="twitter:description" content="μ¤ν”„λ§ μ•΅μ¶”μ—μ΄ν„°λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ— λ€ν•΄ μ„¤λ…ν•λ‹¤."/>



  
  <meta property="og:title" content="[μ¤ν”„λ§μΈμ•΅μ…] μ¤ν”„λ§ μ•΅μ¶”μ—μ΄ν„° μ‚¬μ©" />
<meta property="og:description" content="μ¤ν”„λ§ μ•΅μ¶”μ—μ΄ν„°λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ— λ€ν•΄ μ„¤λ…ν•λ‹¤." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lhj8390.github.io/post/spring/spring-actuator/" /><meta property="og:image" content="https://lhj8390.github.io/images/site-feature-image.png"/><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-11-20T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-11-20T00:00:00+00:00" /><meta property="og:site_name" content="lhj8390" />





  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "post",
        "name": "[μ¤ν”„λ§μΈμ•΅μ…] μ¤ν”„λ§ μ•΅μ¶”μ—μ΄ν„° μ‚¬μ©",
        "headline": "[μ¤ν”„λ§μΈμ•΅μ…] μ¤ν”„λ§ μ•΅μ¶”μ—μ΄ν„° μ‚¬μ©",
        "alternativeHeadline": "",
        "description": "
      μ¤ν”„λ§ μ•΅μ¶”μ—μ΄ν„°λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ— λ€ν•΄ μ„¤λ…ν•λ‹¤.


    ",
        "inLanguage": "ko",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/lhj8390.github.io\/post\/spring\/spring-actuator\/"
        },
        "author" : {
            "@type": "Person",
            "name": "lhj8390"
        },
        "creator" : {
            "@type": "Person",
            "name": "lhj8390"
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": "lhj8390"
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": "lhj8390"
        },
        "copyrightYear" : "2022",
        "dateCreated": "2022-11-20T00:00:00.00Z",
        "datePublished": "2022-11-20T00:00:00.00Z",
        "dateModified": "2022-11-20T00:00:00.00Z",
        "publisher":{
            "@type":"Organization",
            "name": "lhj8390",
            "url": "https://lhj8390.github.io/",
            "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/lhj8390.github.io\/favicons\/favicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
        
        "https://lhj8390.github.io/images/site-feature-image.png"


      
      ]

    ,
        "url" : "https:\/\/lhj8390.github.io\/post\/spring\/spring-actuator\/",
        "wordCount" : "1759",
        "genre" : [ 
      
      "Web"

    ],
        "keywords" : [ 
      
      "spring"

    
      
        ,

      
      "web"

    
      
        ,

      
      "java"

    
      
        ,

      
      "spring boot"

    
      
        ,

      
      "spring actuator"

    ]
    }
  </script>



</head>
<body
    
      class="body theme--dark"

    
  >
    <div class="wrapper">
      <div class="search search--wrapper" id="searchWrapper" style="display: none;" onclick="openSearchPopup(event);">
        <div id="searchbox">
          <input id="searchInput" autofocus placeholder="search"
              aria-label="search" type="search" autocomplete="off">
          <ul id="searchResults" aria-label="search results"></ul>
        </div>
      </div>
      <aside
        
          class="wrapper__sidebar"

        
      ><div
  class="sidebar
    animated fadeInDown

  "
>
  <div class="sidebar__content">
    <div class="sidebar__introduction">
      <img
        class="sidebar__introduction-profileimage"
        src="/images/cow.png"
        alt="profile picture"
      />
      
        <div class="sidebar__introduction-title">
          <a href="/">lhj8390</a>
        </div>

      
      <div class="sidebar__introduction-description">
        <p>λΈ”λ΅κ·Έ</p>
      </div>
    </div>
    <ul class="sidebar__list">
      
        <li class="sidebar__list-item">
          <a
            href="https://de.linkedin.com/"
            target="_blank"
            rel="noopener"
            aria-label="Linkedin"
            title="Linkedin"
          >
            <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
        <li class="sidebar__list-item">
          <a
            href="https://github.com/lhj8390/"
            target="_blank"
            rel="noopener"
            aria-label="GitHub"
            title="GitHub"
          >
            <i class="fab fa-github fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
        <li class="sidebar__list-item">
          <a
            href="mailto:mail@example.com"
            target="_blank"
            rel="noopener"
            aria-label="e-mail"
            title="e-mail"
          >
            <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
    </ul>
  
    <div class="nav__list categories">
      
      
      
      
        <a href="/categories/architecture" class="">
          
            <i class="fa-solid fa-sitemap"></i>
          
          Architecture 
          <span>(1)</span>
          <div class="icon down">
            <i class="fa-solid fa-angle-down"></i>
          </div>
        </a>
        
        
            <div class="expand__list">
              
              <a href="/subcategories/design-pattern" class="">
                
                  <i class="fa-solid fa-diagram-project"></i>
                
                Design pattern
              </a>
              
            </div>
         
        
      
        <a href="/categories/devops" class="">
          
            <i class="fa-solid fa-infinity"></i>
          
          Devops 
          <span>(5)</span>
          <div class="icon down">
            <i class="fa-solid fa-angle-down"></i>
          </div>
        </a>
        
        
            <div class="expand__list">
              
              <a href="/subcategories/kubernetes" class="">
                
                  <i class="fa-solid fa-dharmachakra"></i>
                
                Kubernetes
              </a>
              
              <a href="/subcategories/docker" class="">
                
                  <i class="fa-brands fa-docker"></i>
                
                Docker
              </a>
              
              <a href="/subcategories/server" class="">
                
                  <i class="fa-solid fa-server"></i>
                
                Server
              </a>
              
            </div>
         
        
      
        <a href="/categories/language" class="">
          
            <i class="fa-solid fa-code"></i>
          
          Language 
          <span>(6)</span>
          <div class="icon down">
            <i class="fa-solid fa-angle-down"></i>
          </div>
        </a>
        
        
            <div class="expand__list">
              
              <a href="/subcategories/go" class="">
                
                  <i class="fa-brands fa-golang"></i>
                
                Go
              </a>
              
            </div>
         
        
      
        <a href="/categories/web" class="">
          
            <i class="fa-solid fa-desktop"></i>
          
          Web 
          <span>(25)</span>
          <div class="icon down">
            <i class="fa-solid fa-angle-down"></i>
          </div>
        </a>
        
        
            <div class="expand__list">
              
              <a href="/subcategories/spring" class="">
                
                  <i class="fa-solid fa-leaf"></i>
                
                Spring
              </a>
              
              <a href="/subcategories/react" class="">
                
                  <i class="fa-brands fa-react"></i>
                
                React
              </a>
              
            </div>
         
        
      
    </div>
  </div><footer class="footer footer__sidebar">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        lhj8390
        2023


      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.972a2c29b7a36a3c40cc4798c8fab0dbae92c1089ab0691e84acbf0c7720ccb3.js"
    integrity="sha256-lyosKbejajxAzEeYyPqw266SwQiasGkehKy/DHcgzLM="
    crossorigin="anonymous"
  ></script></div>
<script>
  const arrows = document.getElementsByClassName('down');
  for (i = 0; i < arrows.length ; i++) {
    arrows[i].addEventListener('click', function(e) {
      e.preventDefault();
      console.log(this);
      this.classList.toggle('up');
      this.classList.toggle('down');
      this.parentNode.nextElementSibling.classList.toggle('expand--open');
    });
  }

  
</script>
</aside>
      <main
        
          class="wrapper__main"

        
      >
        <header class="header"><div
  class="menu 
    animated fadeInDown

  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
  </a>
  <a role="button" id="searchIcon" class="search__icon" aria-label="search" onclick="openSearchPopup(event);">
    <em class="fa-solid fa-magnifying-glass"></em>
    <span>Search..</span>
  </a>
  <nav class="nav">
     
    <div class="nav__opener">
      <div class="nav__list" id="navMenu">
        
        
        
        
        
          <a class="nav__list-item" onclick="openMenu(this);">
            
              <i class="fa-solid fa-sitemap"></i>
            
            Architecture 
            <span>(1)</span>
          </a>
          
          
              <div class="expand__list">
                
                <a href="/subcategories/design-pattern" class="">
                  
                    <i class="fa-solid fa-diagram-project"></i>
                  
                  Design pattern
                </a>
                
              </div>
          
          
        
          <a class="nav__list-item" onclick="openMenu(this);">
            
              <i class="fa-solid fa-infinity"></i>
            
            Devops 
            <span>(5)</span>
          </a>
          
          
              <div class="expand__list">
                
                <a href="/subcategories/kubernetes" class="">
                  
                    <i class="fa-solid fa-dharmachakra"></i>
                  
                  Kubernetes
                </a>
                
                <a href="/subcategories/docker" class="">
                  
                    <i class="fa-brands fa-docker"></i>
                  
                  Docker
                </a>
                
                <a href="/subcategories/server" class="">
                  
                    <i class="fa-solid fa-server"></i>
                  
                  Server
                </a>
                
              </div>
          
          
        
          <a class="nav__list-item" onclick="openMenu(this);">
            
              <i class="fa-solid fa-code"></i>
            
            Language 
            <span>(6)</span>
          </a>
          
          
              <div class="expand__list">
                
                <a href="/subcategories/go" class="">
                  
                    <i class="fa-brands fa-golang"></i>
                  
                  Go
                </a>
                
              </div>
          
          
        
          <a class="nav__list-item" onclick="openMenu(this);">
            
              <i class="fa-solid fa-desktop"></i>
            
            Web 
            <span>(25)</span>
          </a>
          
          
              <div class="expand__list">
                
                <a href="/subcategories/spring" class=" watched ">
                  
                    <i class="fa-solid fa-leaf"></i>
                  
                  Spring
                </a>
                
                <a href="/subcategories/react" class="">
                  
                    <i class="fa-brands fa-react"></i>
                  
                  React
                </a>
                
              </div>
          
          
        
      </div>
    </div>
    
  </nav>
  <nav class="nav nav--hidden">
    <ul class="nav__list">
      
      
        
        
          <li class="nav__list-item">
            <a
              
              href="/"
              
              title=""
              >ν™</a
            >
          </li>

        


      
        
        
          <li class="nav__list-item">
            <a
              
              href="/post/"
              
              title=""
              >κ²μ‹λ¬Ό</a
            >
          </li>

        


      
    </ul>
    <ul class="nav__list nav__list--end">
      
      <li>
        
      </li>
      
        <li class="nav__list-item">
          <div class="themeswitch">
            <a title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </div>
        </li>

      
    </ul>
  </nav>
</div>

</header>
  <div
    class="post 
      animated fadeInDown

    "
  >
    
      <div class="post__thumbnail-wrapper">
        <img class="post__thumbnail" src="/images/spring-basic.png" alt="Thumbnail image" />
      </div>

    

    <div class="post__toc" id="tableOfContent">
      <h3>Table of Contents</h3>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#μ•΅μ¶”μ—μ΄ν„°λ€">μ•΅μ¶”μ—μ΄ν„°λ€?</a>
      <ul>
        <li><a href="#μ•΅μ¶”μ—μ΄ν„°-ν™μ„±ν™”">μ•΅μ¶”μ—μ΄ν„° ν™μ„±ν™”</a></li>
        <li><a href="#μ•΅μ¶”μ—μ΄ν„°-μ„¤μ •">μ•΅μ¶”μ—μ΄ν„° μ„¤μ •</a></li>
      </ul>
    </li>
    <li><a href="#μ•΅μ¶”μ—μ΄ν„°-μ—”λ“ν¬μΈνΈ-μ‚¬μ©">μ•΅μ¶”μ—μ΄ν„° μ—”λ“ν¬μΈνΈ μ‚¬μ©</a>
      <ul>
        <li><a href="#μ–΄ν”λ¦¬μΌ€μ΄μ…-κΈ°λ³Έ-μ •λ³΄-λ°›κΈ°">μ–΄ν”λ¦¬μΌ€μ΄μ… κΈ°λ³Έ μ •λ³΄ λ°›κΈ°</a></li>
        <li><a href="#κµ¬μ„±-μƒμ„Έ-μ •λ³΄-λ³΄κΈ°">κµ¬μ„± μƒμ„Έ μ •λ³΄ λ³΄κΈ°</a></li>
        <li><a href="#μ–΄ν”λ¦¬μΌ€μ΄μ…-λ¨λ‹ν„°λ§">μ–΄ν”λ¦¬μΌ€μ΄μ… λ¨λ‹ν„°λ§</a></li>
      </ul>
    </li>
    <li><a href="#μ•΅μ¶”μ—μ΄ν„°-μ»¤μ¤ν„°λ§μ΄μ§•">μ•΅μ¶”μ—μ΄ν„° μ»¤μ¤ν„°λ§μ΄μ§•</a>
      <ul>
        <li><a href="#info-μ—”λ“ν¬μΈνΈ-μ»¤μ¤ν„°λ§μ΄μ§•">/info μ—”λ“ν¬μΈνΈ μ»¤μ¤ν„°λ§μ΄μ§•</a></li>
        <li><a href="#κ±΄κ°•-μ§€ν‘-μ»¤μ¤ν„°λ§μ΄μ§•">κ±΄κ°• μ§€ν‘ μ»¤μ¤ν„°λ§μ΄μ§•</a></li>
        <li><a href="#μ»¤μ¤ν…€-λ©”νΈλ¦­-λ“±λ΅">μ»¤μ¤ν…€ λ©”νΈλ¦­ λ“±λ΅</a></li>
        <li><a href="#μ»¤μ¤ν…€-μ—”λ“ν¬μΈνΈ-μƒμ„±">μ»¤μ¤ν…€ μ—”λ“ν¬μΈνΈ μƒμ„±</a></li>
      </ul>
    </li>
    <li><a href="#μ•΅μ¶”μ—μ΄ν„°-λ³΄μ•-μ²λ¦¬">μ•΅μ¶”μ—μ΄ν„° λ³΄μ• μ²λ¦¬</a></li>
  </ul>
</nav>
    </div>
    
    <div class="post__content detail">
      <h1>[μ¤ν”„λ§μΈμ•΅μ…] μ¤ν”„λ§ μ•΅μ¶”μ—μ΄ν„° μ‚¬μ©</h1>
      
        <ul class="post__meta">
          <li class="post__meta-item">
            <em class="fas fa-calendar-day post__meta-icon"></em>
            <span class="post__meta-text"
              >
                20/11/2022


              
            </span>
          </li>
          <li class="post__meta-item">
            <em class="fas fa-stopwatch post__meta-icon"></em>
            <span class="post__meta-text">μ½λ” μ‹κ°„ 9λ¶„</span>
          </li>
        </ul>

      <blockquote>
<p>μ¤ν”„λ§μΈμ•΅μ… 16μ¥μ„ μ½κ³  μ¤ν”„λ§ μ•΅μ¶”μ—μ΄ν„° μ‚¬μ©λ²•μ— λ€ν•΄ μ •λ¦¬ν•μ€λ‹¤.</p>
<ul>
<li>μ¤ν”„λ§ μ•΅μ¶”μ—μ΄ν„° ν™μ„±ν™”</li>
<li>μ•΅μ¶”μ—μ΄ν„° μ—”λ“ν¬μΈνΈ</li>
<li>μ•΅μ¶”μ—μ΄ν„° μ»¤μ¤ν„°λ§μ΄μ§•</li>
<li>μ•΅μ¶”μ—μ΄ν„° λ³΄μ• μ²λ¦¬</li>
</ul>
<p>μ— λ€ν•΄ μ‘μ„±ν•μ€λ‹¤.</p>
</blockquote>
<h2 id="μ•΅μ¶”μ—μ΄ν„°λ€">μ•΅μ¶”μ—μ΄ν„°λ€?</h2>
<hr>
<blockquote>
<p>μ—‘μ¶”μ—μ΄ν„°λ” <strong>μ¤ν”„λ§ λ¶€νΈ μ–΄ν”λ¦¬μΌ€μ΄μ…μ λ¨λ‹ν„°λ§μ΄λ‚ λ©”νΈλ¦­</strong>(metric)κ³Ό κ°™μ€ κΈ°λ¥μ„ HTTPμ™€ JMX μ—”λ“ν¬μΈνΈλ¥Ό ν†µν•΄ μ κ³µν•λ‹¤. μ¦‰, μ‹¤ν–‰ μ¤‘μΈ μ–΄ν”λ¦¬μΌ€μ΄μ…μ λ‚΄λ¶€λ¥Ό λ³Ό μ μκ³  μ–΄ν”λ¦¬μΌ€μ΄μ…μ μ‘λ™ λ°©λ²•μ„ μ μ–΄ν•  μ μλ‹¤.</p>
</blockquote>
<p>μ•΅μ¶”μ—μ΄ν„°κ°€ λ…Έμ¶ν•λ” μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•μ—¬ μ–»μ„ μ μλ” <strong>μ •λ³΄</strong>λ” λ‹¤μκ³Ό κ°™λ‹¤.</p>
<ul>
<li>μ–΄ν”λ¦¬μΌ€μ΄μ… ν™κ²½μ—μ„ μ‚¬μ©ν•  μ μλ” κµ¬μ„± μ†μ„±</li>
<li>ν¨ν‚¤μ§€μ λ΅κΉ… λ λ²¨</li>
<li>μ–΄ν”λ¦¬μΌ€μ΄μ…μ΄ μ‚¬μ© μ¤‘μΈ λ©”λ¨λ¦¬</li>
<li>μ—”λ“ν¬μΈνΈκ°€ λ°›μ€ μ”μ²­ νμ</li>
<li>μ–΄ν”λ¦¬μΌ€μ΄μ… κ±΄κ°• μƒνƒ μ •λ³΄</li>
</ul>
<h3 id="μ•΅μ¶”μ—μ΄ν„°-ν™μ„±ν™”">μ•΅μ¶”μ—μ΄ν„° ν™μ„±ν™”</h3>
<p>μ•΅μ¶”μ—μ΄ν„°λ¥Ό ν™μ„±ν™”ν•λ ¤λ©΄ μ•΅μ¶”μ—μ΄ν„°μ μ¤νƒ€ν„° μμ΅΄μ„±μ„ μ¶”κ°€ν•΄μ•Ό ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-groovy" data-lang="groovy"><span class="line"><span class="ln" id="hl-0-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-1">1</a></span><span class="cl"><span class="n">implementation</span> <span class="s1">&#39;org.springframework.boot:spring-boot-starter-actuator&#39;</span>
</span></span></code></pre></div><p>μ•΅μ¶”μ—μ΄ν„°λ¥Ό ν™μ„±ν™”ν•λ©΄ μ–΄ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ•΅μ¶”μ—μ΄ν„° μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•  μ μλ‹¤.<br/><br/>
μ•΅μ¶”μ—μ΄ν„° μ—”λ“ν¬μΈνΈ μ •λ³΄λ” μ•„λμ λ§ν¬μ—μ„ ν™•μΈν•  μ μλ‹¤.</p>
<p><a href="https://docs.spring.io/spring-boot/docs/2.1.7.RELEASE/reference/html/production-ready-endpoints.html">https://docs.spring.io/spring-boot/docs/2.1.7.RELEASE/reference/html/production-ready-endpoints.html</a></p>
<h3 id="μ•΅μ¶”μ—μ΄ν„°-μ„¤μ •">μ•΅μ¶”μ—μ΄ν„° μ„¤μ •</h3>
<p><strong>μ•΅μ¶”μ—μ΄ν„° κΈ°λ³Έ κ²½λ΅ κµ¬μ„±</strong></p>
<p>λ¨λ“  μ—”λ“ν¬μΈνΈ κ²½λ΅μ—λ” /actuatorκ°€ μ•μ— λ¶™λ”λ°, κΈ°λ³Έ κ²½λ΅λ¥Ό λ³€κ²½ν• μμ μ΄λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln" id="hl-1-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-1-1">1</a></span><span class="cl"><span class="nt">management</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln" id="hl-1-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-1-2">2</a></span><span class="cl"><span class="w">  </span><span class="nt">endpoints</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln" id="hl-1-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-1-3">3</a></span><span class="cl"><span class="w">    </span><span class="nt">web</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln" id="hl-1-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-1-4">4</a></span><span class="cl"><span class="w">      </span><span class="nt">base-path</span><span class="p">:</span><span class="w"> </span><span class="l">/management</span><span class="w">
</span></span></span></code></pre></div><p>κΈ°λ³Έ κ²½λ΅λ” application.yml νμΌμ <code>management.endpoint.web.base-path</code> μ†μ„±μ—μ„ λ³€κ²½ν•  μ μλ‹¤. μ΄ν›„ κ±΄κ°• μƒνƒ μ •λ³΄λ¥Ό μ–»κ³  μ‹¶λ‹¤λ©΄ /management/health GET μ”μ²­μ„ λ³΄λ‚΄λ©΄ λλ‹¤.</p>
<p><strong>μ•΅μ¶”μ—μ΄ν„° μ—”λ“ν¬μΈνΈ ν™μ„±ν™”/λΉ„ν™μ„±ν™”</strong></p>
<p>μ—”λ“ν¬μΈνΈ λ…Έμ¶ μ—¬λ¶€λ¥Ό μ μ–΄ν•λ” μ½”λ“μ΄λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln" id="hl-2-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-2-1">1</a></span><span class="cl"><span class="nt">management</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln" id="hl-2-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-2-2">2</a></span><span class="cl"><span class="w">  </span><span class="nt">endpoints</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln" id="hl-2-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-2-3">3</a></span><span class="cl"><span class="w">    </span><span class="nt">web</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln" id="hl-2-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-2-4">4</a></span><span class="cl"><span class="w">      </span><span class="nt">exposure</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln" id="hl-2-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-2-5">5</a></span><span class="cl"><span class="w">        </span><span class="nt">include</span><span class="p">:</span><span class="w"> </span><span class="l">health, info, beans, conditions</span><span class="w">
</span></span></span></code></pre></div><p>application.yml νμΌμ <code>management.endpoint.web.exclude</code> μ™€  <code>management.endpoint.web.include</code> μ†μ„±μ„ ν†µν•΄ λ…Έμ¶μ„ μ›ν•λ” μ—”λ“ν¬μΈνΈλ¥Ό μ§€μ •ν•  μ μλ‹¤. excludeλ” μ μ™Έν•  μ—”λ“ν¬μΈνΈ, includeλ” λ…Έμ¶ν•  μ—”λ“ν¬μΈνΈλ¥Ό μλ―Έν•λ‹¤.</p>
<aside>
π’΅ include μ†μ„±μ—λ” <span class="red">μ™€μΌλ“μΉ΄λ“(*)</span>λ¥Ό ν†µν•΄ λ¨λ“  μ—”λ“ν¬μΈνΈλ¥Ό λ…Έμ¶ν•λ„λ΅ μ„¤μ •ν•  μ μλ‹¤.<br/>
</aside>
<h2 id="μ•΅μ¶”μ—μ΄ν„°-μ—”λ“ν¬μΈνΈ-μ‚¬μ©">μ•΅μ¶”μ—μ΄ν„° μ—”λ“ν¬μΈνΈ μ‚¬μ©</h2>
<hr>
<blockquote>
<p>μ—‘μ¶”μ—μ΄ν„°μ HTTP μ—”λ“ν¬μΈνΈλ¥Ό μ κ³µν•λ”λ°, REST API νΉμ€ curl λ…λ Ήμ–΄λ¥Ό ν†µν•΄ μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•  μ μλ‹¤. <strong>/actuator GET μ”μ²­</strong>μ„ ν•λ©΄ μ—”λ“ν¬μΈνΈμ HATEOAS λ§ν¬λ¥Ό μ‘λ‹µμΌλ΅ λ°›μ„ μ μλ‹¤.</p>
</blockquote>
<h3 id="μ–΄ν”λ¦¬μΌ€μ΄μ…-κΈ°λ³Έ-μ •λ³΄-λ°›κΈ°">μ–΄ν”λ¦¬μΌ€μ΄μ… κΈ°λ³Έ μ •λ³΄ λ°›κΈ°</h3>
<p>/info μ—”λ“ν¬μΈνΈλ¥Ό ν†µν•΄ μ–΄ν”λ¦¬μΌ€μ΄μ…μ κΈ°λ³Έ μ •λ³΄λ¥Ό μ• μ μλ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln" id="hl-3-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-3-1">1</a></span><span class="cl"><span class="nt">info</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln" id="hl-3-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-3-2">2</a></span><span class="cl"><span class="w">  </span><span class="nt">contact</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln" id="hl-3-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-3-3">3</a></span><span class="cl"><span class="w">    </span><span class="nt">email</span><span class="p">:</span><span class="w"> </span><span class="l">email@email.com</span><span class="w">
</span></span></span><span class="line"><span class="ln" id="hl-3-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-3-4">4</a></span><span class="cl"><span class="w">    </span><span class="nt">phone</span><span class="p">:</span><span class="w"> </span><span class="m">010-0000-0000</span><span class="w">
</span></span></span></code></pre></div><p>/info μ—”λ“ν¬μΈνΈκ°€ λ°ν™ν•λ” μ •λ³΄λ¥Ό μ„¤μ •ν•λ” λ°©λ²•μ€ μ—¬λ¬κ°€μ§€κ°€ μλ”λ°, μ„μ—μ„ μ„¤μ •ν• λ°”μ™€ κ°™μ΄ application.yml μ—μ„ <span class="red"><strong>info</strong>λ΅ μ‹μ‘ν•λ” κµ¬μ„± μ†μ„±μ„ μ„¤μ •</span>ν•λ” λ°©λ²•λ„ μλ‹¤.</p>
<p>/health μ—”λ“ν¬μΈνΈλ¥Ό ν†µν•΄ μ–΄ν”λ¦¬μΌ€μ΄μ…μ κ±΄κ°• μƒνƒ μ •λ³΄λ¥Ό μ–»μ„ μ μλ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln" id="hl-4-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-4-1">1</a></span><span class="cl">$ curl localhost:8080/actuator/health
</span></span><span class="line"><span class="ln" id="hl-4-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-4-2">2</a></span><span class="cl"><span class="o">{</span><span class="s2">&#34;status&#34;</span>: <span class="s2">&#34;UP&#34;</span><span class="o">}</span>
</span></span></code></pre></div><p>κΈ°λ³Έμ μΌλ΅ μΆ…ν•©λ κ±΄κ°• μƒνƒ μ •λ³΄λ¥Ό κ°€μ§€λ” JSON μ‘λ‹µμ„ λ°›λ”λ‹¤.</p>
<p><strong>κ±΄κ°• μƒνƒλ¥Ό λ‚νƒ€λ‚΄λ” κ° μ§€ν‘</strong></p>
<ul>
<li>λ¨λ“  κ±΄κ°• μ§€ν‘κ°€ UP β†’ κ±΄κ°• μƒνƒ UP</li>
<li>ν•λ‚μ κ±΄κ°• μ§€ν‘κ°€ DOWN β†’ κ±΄κ°• μƒνƒ DOWN</li>
<li>ν•λ‚μ κ±΄κ°• μ§€ν‘κ°€ OUT_OF_SERVICE β†’ κ±΄κ°• μƒνƒ OUT_OF_SERVICE</li>
<li>ν•λ‚μ κ±΄κ°• μ§€ν‘κ°€ UNKNOWN β†’ μΆ…ν•© κ±΄κ°• μƒνƒμ—μ„ κ³ λ ¤λμ§€ μ•μ</li>
</ul>
<br/>
κ±΄κ°• μ§€ν‘λ¥Ό μμ„Έν λ³΄λ ¤λ©΄ λ‹¤μκ³Ό κ°™μ΄ κµ¬μ„±ν•λ‹¤.
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln" id="hl-5-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-5-1">1</a></span><span class="cl"><span class="nt">management</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln" id="hl-5-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-5-2">2</a></span><span class="cl"><span class="w">  </span><span class="nt">endpoint</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln" id="hl-5-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-5-3">3</a></span><span class="cl"><span class="w">    </span><span class="nt">health</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln" id="hl-5-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-5-4">4</a></span><span class="cl"><span class="w">      </span><span class="nt">show-details</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span></code></pre></div><p><code>management.endpoint.health.show-details</code> μ†μ„±μ„ <strong>always</strong>λ΅ μ„¤μ •ν•λ©΄ λ¨λ“  κ±΄κ°• μ§€ν‘λ¥Ό μμ„Έν λ³Ό μ μλ‹¤. κΈ°λ³Έκ°’μ€ neverμ΄κ³ , when-authorizedλ΅ μ„¤μ • μ‹ ν΄λΌμ΄μ–ΈνΈκ°€ μΈκ°€λ κ²½μ°μ— ν•ν•΄ μƒμ„Έν• λ‚΄μ—­μ„ λ³΄μ—¬μ¤€λ‹¤.</p>
<h3 id="κµ¬μ„±-μƒμ„Έ-μ •λ³΄-λ³΄κΈ°">κµ¬μ„± μƒμ„Έ μ •λ³΄ λ³΄κΈ°</h3>
<p><strong>λΉ μ—°κ²° μ •λ³΄</strong>λ¥Ό μ–»μΌλ ¤λ©΄ /beans μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="ln" id="hl-6-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-1"> 1</a></span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-6-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-2"> 2</a></span><span class="cl">  <span class="nt">&#34;contexts&#34;</span> <span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-6-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-3"> 3</a></span><span class="cl">    <span class="nt">&#34;application-1&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-6-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-4"> 4</a></span><span class="cl">      <span class="nt">&#34;beans&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-6-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-5"> 5</a></span><span class="cl">        <span class="nt">&#34;ingredientsController&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-6-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-6"> 6</a></span><span class="cl">          <span class="nt">&#34;aliases&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="ln" id="hl-6-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-7"> 7</a></span><span class="cl">          <span class="nt">&#34;scope&#34;</span><span class="p">:</span> <span class="s2">&#34;singleton&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-6-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-8"> 8</a></span><span class="cl">          <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;tacos.ingredients.IngredientsController&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-6-9"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-9"> 9</a></span><span class="cl">          <span class="nt">&#34;resource&#34;</span><span class="p">:</span> <span class="s2">&#34;file [...ingredients/IngredientsController.class]&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-6-10"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-10">10</a></span><span class="cl">          <span class="nt">&#34;dependencies&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;ingredientRepository&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="ln" id="hl-6-11"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-11">11</a></span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-6-12"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-12">12</a></span><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-6-13"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-13">13</a></span><span class="cl">      <span class="nt">&#34;parentId&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="ln" id="hl-6-14"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-14">14</a></span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-6-15"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-15">15</a></span><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-6-16"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-6-16">16</a></span><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>ν•΄λ‹Ή μ–΄ν”λ¦¬μΌ€μ΄μ… μ»¨ν…μ¤νΈμ— μλ” λ¨λ“  λΉμ μƒμ„Έ μ •λ³΄λ¥Ό ν¬ν•¨ν•λ‹¤.</p>
<p><strong>μλ™-κµ¬μ„± λ‚΄μ—­</strong>μ„ μ•κΈ° μ„ν•΄μ„λ” /conditions μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="ln" id="hl-7-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-1"> 1</a></span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-7-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-2"> 2</a></span><span class="cl">  <span class="nt">&#34;contexts&#34;</span> <span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-7-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-3"> 3</a></span><span class="cl">    <span class="nt">&#34;application-1&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-7-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-4"> 4</a></span><span class="cl">      <span class="nt">&#34;positiveMatches&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-7-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-5"> 5</a></span><span class="cl">        <span class="nt">&#34;MongoDataAutoConfiguration#mongoTemplate&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="ln" id="hl-7-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-6"> 6</a></span><span class="cl">          <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-7-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-7"> 7</a></span><span class="cl">            <span class="nt">&#34;condition&#34;</span><span class="p">:</span> <span class="s2">&#34;OnBeanCondition&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-7-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-8"> 8</a></span><span class="cl">            <span class="nt">&#34;message&#34;</span><span class="p">:</span> <span class="s2">&#34;...&#34;</span>
</span></span><span class="line"><span class="ln" id="hl-7-9"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-9"> 9</a></span><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-7-10"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-10">10</a></span><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="ln" id="hl-7-11"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-11">11</a></span><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-7-12"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-12">12</a></span><span class="cl">      <span class="nt">&#34;negativeMatches&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-7-13"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-13">13</a></span><span class="cl">        <span class="nt">&#34;DispatcherServletAutoConfiguration&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-7-14"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-14">14</a></span><span class="cl">          <span class="nt">&#34;notMatched&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="ln" id="hl-7-15"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-15">15</a></span><span class="cl">          <span class="nt">&#34;matched&#34;</span><span class="p">:</span> <span class="p">[]</span>
</span></span><span class="line"><span class="ln" id="hl-7-16"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-16">16</a></span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-7-17"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-17">17</a></span><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-7-18"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-18">18</a></span><span class="cl">      <span class="nt">&#34;unconditionalClasses&#34;</span><span class="p">:</span> <span class="p">[]</span>  
</span></span><span class="line"><span class="ln" id="hl-7-19"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-19">19</a></span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-7-20"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-20">20</a></span><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-7-21"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-7-21">21</a></span><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>positiveMatches</strong>μ—μ„λ” μλ™ κµ¬μ„±μ΄ λ λΉλ“¤μ„ λ³΄μ—¬μ£Όκ³ , <strong>negativeMatches</strong>μ—μ„λ” μλ™ κµ¬μ„±μ΄ μ–΄λ– ν• μ΄μ λ•λ¬Έμ— μ‹¤ν¨ν–λ‹¤λ” κ²ƒμ„ λ³΄μ—¬μ¤€λ‹¤. <strong>unconditionalClassess</strong>λ” μ΅°κ±΄ μ—†μ΄ μλ™ κµ¬μ„±λ λΉμ„ λ³΄μ—¬μ¤€λ‹¤.</p>
<p><strong>ν™κ²½ μ†μ„±κ³Ό κµ¬μ„± μ†μ„±</strong>μ„ λ³΄κΈ° μ„ν•΄μ„λ” /env μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="ln" id="hl-8-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-1"> 1</a></span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-8-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-2"> 2</a></span><span class="cl">  <span class="nt">&#34;activeProfiles&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="ln" id="hl-8-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-3"> 3</a></span><span class="cl">    <span class="s2">&#34;development&#34;</span>
</span></span><span class="line"><span class="ln" id="hl-8-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-4"> 4</a></span><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="ln" id="hl-8-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-5"> 5</a></span><span class="cl">  <span class="nt">&#34;propertySources&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="ln" id="hl-8-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-6"> 6</a></span><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-8-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-7"> 7</a></span><span class="cl">      <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;systemEnvironment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-8-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-8"> 8</a></span><span class="cl">      <span class="nt">&#34;properties&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-8-9"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-9"> 9</a></span><span class="cl">        <span class="nt">&#34;PATH&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-8-10"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-10">10</a></span><span class="cl">          <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="s2">&#34;/usr/bin:/bin:/usr/sbin:/sbin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-8-11"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-11">11</a></span><span class="cl">          <span class="nt">&#34;origin&#34;</span><span class="p">:</span> <span class="s2">&#34;System Environment Property \&#34;PATH\&#34;&#34;</span>
</span></span><span class="line"><span class="ln" id="hl-8-12"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-12">12</a></span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-8-13"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-13">13</a></span><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-8-14"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-14">14</a></span><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-8-15"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-15">15</a></span><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-8-16"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-16">16</a></span><span class="cl">      <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;applicationConfig: [classpath:/application.yml]&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-8-17"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-17">17</a></span><span class="cl">      <span class="nt">&#34;properties&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-8-18"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-18">18</a></span><span class="cl">        <span class="nt">&#34;spring.application.name&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-8-19"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-19">19</a></span><span class="cl">          <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="s2">&#34;ingredient-service&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-8-20"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-20">20</a></span><span class="cl">          <span class="nt">&#34;origin&#34;</span><span class="p">:</span> <span class="s2">&#34;class path resource [application.yml]:3:11&#34;</span>
</span></span><span class="line"><span class="ln" id="hl-8-21"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-21">21</a></span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-8-22"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-22">22</a></span><span class="cl">        <span class="nt">&#34;server.port&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-8-23"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-23">23</a></span><span class="cl">          <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="mi">8081</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-8-24"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-24">24</a></span><span class="cl">          <span class="nt">&#34;origin&#34;</span><span class="p">:</span> <span class="s2">&#34;class path resource [application.yml]:9:9&#34;</span>
</span></span><span class="line"><span class="ln" id="hl-8-25"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-25">25</a></span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-8-26"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-26">26</a></span><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-8-27"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-27">27</a></span><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-8-28"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-28">28</a></span><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="ln" id="hl-8-29"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-8-29">29</a></span><span class="cl"><span class="p">}</span>  
</span></span></code></pre></div><p>activeProfiles ν•„λ“λ¥Ό ν†µν•΄ ν™μ„±ν™”λ ν”„λ΅νμΌμ„ μ• μ μκ³ , propertySources ν•„λ“μ—μ„λ” μ¤ν”„λ§ μ–΄ν”λ¦¬μΌ€μ΄μ… ν™κ²½μ μ†μ„± κ·Όμ›λ“¤μ„ ν¬ν•¨ν•λ‹¤.</p>
<aside>
π’΅ /env μ—”λ“ν¬μΈνΈμ— POST μ”μ²­μ„ ν•λ©΄ μ‹¤ν–‰ μ¤‘μΈ μ–΄ν”λ¦¬μΌ€μ΄μ…μ μ†μ„±μ„ μ„¤μ •ν•  μ μλ‹¤.<br/>
</aside>
<br/>
<p><strong>λ¨λ“  HTTP μ”μ²­ ν•Έλ“¤λ¬ λ‚΄μ—­μ„ ν™•μΈ</strong>ν•λ ¤λ©΄ /mappings μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="ln" id="hl-9-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-1"> 1</a></span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-9-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-2"> 2</a></span><span class="cl">  <span class="nt">&#34;contexts&#34;</span> <span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-9-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-3"> 3</a></span><span class="cl">    <span class="nt">&#34;application-1&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-9-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-4"> 4</a></span><span class="cl">      <span class="nt">&#34;mappings&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-9-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-5"> 5</a></span><span class="cl">        <span class="nt">&#34;dispatcherHandlers&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-9-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-6"> 6</a></span><span class="cl">          <span class="nt">&#34;webHandler&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="ln" id="hl-9-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-7"> 7</a></span><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-9-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-8"> 8</a></span><span class="cl">              <span class="nt">&#34;predicate&#34;</span><span class="p">:</span> <span class="s2">&#34;{[/ingredients],methods=[GET]}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-9-9"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-9"> 9</a></span><span class="cl">              <span class="nt">&#34;handler&#34;</span><span class="p">:</span> <span class="s2">&#34;...&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-9-10"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-10">10</a></span><span class="cl">              <span class="nt">&#34;details&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-9-11"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-11">11</a></span><span class="cl">                <span class="nt">&#34;handlerMethod&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-9-12"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-12">12</a></span><span class="cl">                  <span class="nt">&#34;className&#34;</span><span class="p">:</span> <span class="s2">&#34;tacos.ingredients.IngredientsController&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-9-13"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-13">13</a></span><span class="cl">                  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;allIngredients&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-9-14"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-14">14</a></span><span class="cl">                  <span class="nt">&#34;descriptor&#34;</span><span class="p">:</span> <span class="s2">&#34;()Lreactor/core/publisher/Flux;&#34;</span>
</span></span><span class="line"><span class="ln" id="hl-9-15"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-15">15</a></span><span class="cl">                <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-9-16"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-16">16</a></span><span class="cl">                <span class="nt">&#34;handlerFunction&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-9-17"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-17">17</a></span><span class="cl">                <span class="nt">&#34;requestMappingConditions&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-9-18"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-18">18</a></span><span class="cl">                  <span class="nt">&#34;consumes&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="ln" id="hl-9-19"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-19">19</a></span><span class="cl">                  <span class="nt">&#34;headers&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="ln" id="hl-9-20"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-20">20</a></span><span class="cl">                  <span class="nt">&#34;methods&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;GET&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="ln" id="hl-9-21"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-21">21</a></span><span class="cl">                  <span class="nt">&#34;params&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="ln" id="hl-9-22"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-22">22</a></span><span class="cl">                  <span class="nt">&#34;patterns&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;/ingredients&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="ln" id="hl-9-23"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-23">23</a></span><span class="cl">                  <span class="nt">&#34;produces&#34;</span><span class="p">:</span> <span class="p">[]</span>
</span></span><span class="line"><span class="ln" id="hl-9-24"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-24">24</a></span><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-9-25"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-25">25</a></span><span class="cl">              <span class="p">}</span>  
</span></span><span class="line"><span class="ln" id="hl-9-26"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-26">26</a></span><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-9-27"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-27">27</a></span><span class="cl">          <span class="p">]</span>
</span></span><span class="line"><span class="ln" id="hl-9-28"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-28">28</a></span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-9-29"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-29">29</a></span><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-9-30"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-30">30</a></span><span class="cl">      <span class="nt">&#34;parentId&#34;</span><span class="p">:</span> <span class="s2">&#34;application-1&#34;</span>
</span></span><span class="line"><span class="ln" id="hl-9-31"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-31">31</a></span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-9-32"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-32">32</a></span><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-9-33"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-9-33">33</a></span><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>νΉμ • APIμ μ”μ²­μ΄ μ–΄λ–¤ λ©”μ„λ“μ—μ„ μ²λ¦¬λλ”μ§€ ν™•μΈν•  μ μλ‹¤.</p>
<p><strong>λ΅κΉ… λ λ²¨μ„ κ΄€λ¦¬</strong>ν•λ ¤λ©΄ /loggers μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="ln" id="hl-10-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-10-1"> 1</a></span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-10-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-10-2"> 2</a></span><span class="cl">  <span class="nt">&#34;levels&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;OFF&#34;</span><span class="p">,</span> <span class="s2">&#34;ERROR&#34;</span><span class="p">,</span> <span class="s2">&#34;WARN&#34;</span><span class="p">,</span> <span class="s2">&#34;INFO&#34;</span><span class="p">,</span> <span class="s2">&#34;DEBUG&#34;</span><span class="p">,</span> <span class="s2">&#34;TRACE&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="ln" id="hl-10-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-10-3"> 3</a></span><span class="cl">  <span class="nt">&#34;loggers&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-10-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-10-4"> 4</a></span><span class="cl">    <span class="nt">&#34;ROOT&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-10-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-10-5"> 5</a></span><span class="cl">      <span class="nt">&#34;configuredLevel&#34;</span><span class="p">:</span> <span class="s2">&#34;INFO&#34;</span><span class="p">,</span> <span class="nt">&#34;effectiveLevel&#34;</span><span class="p">:</span> <span class="s2">&#34;INFO&#34;</span>
</span></span><span class="line"><span class="ln" id="hl-10-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-10-6"> 6</a></span><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-10-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-10-7"> 7</a></span><span class="cl">    <span class="nt">&#34;org.springframework.web&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-10-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-10-8"> 8</a></span><span class="cl">      <span class="nt">&#34;configuredLevel&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span> <span class="nt">&#34;effectiveLevel&#34;</span><span class="p">:</span> <span class="s2">&#34;INFO&#34;</span>
</span></span><span class="line"><span class="ln" id="hl-10-9"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-10-9"> 9</a></span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-10-10"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-10-10">10</a></span><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-10-11"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-10-11">11</a></span><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>μ‘λ‹µμ λ§¨ μ•μ—λ” λ¨λ“  λ΅κΉ… λ λ²¨ λ‚΄μ—­μ΄ λ…Έμ¶λκ³ , κ° ν¨ν‚¤μ§€μ— λ€ν• λ΅κΉ… μƒμ„Έ λ‚΄μ—­μ„ λ³Ό μ μλ‹¤. configuredLevel μ†μ„±μ€ λ…μ‹μ μΌλ΅ κµ¬μ„±λ λ΅κΉ… λ λ²¨μ΄κ³ , effectiveLevel μ†μ„±μ€ μƒμ†λ°›μ„ μ μλ” μ ν¨ λ΅κΉ… λ λ²¨μ΄λ‹¤.</p>
<aside>
π’΅ /loggers μ—”λ“ν¬μΈνΈμ— POST μ”μ²­μ„ ν•λ©΄ λ΅κΉ… λ λ²¨μ„ λ³€κ²½ν•  μ μλ‹¤.<br/>
</aside>
<h3 id="μ–΄ν”λ¦¬μΌ€μ΄μ…-λ¨λ‹ν„°λ§">μ–΄ν”λ¦¬μΌ€μ΄μ… λ¨λ‹ν„°λ§</h3>
<p><strong>λ©”λ¨λ¦¬λ‚ μ¤λ λ“ λ¬Έμ λ¥Ό μ°Ύλ” gzip ν•νƒμ HPROF ν™ λ¤ν”„ νμΌμ„ λ‹¤μ΄λ΅λ“</strong>ν•λ ¤λ©΄ /heapdump μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•λ‹¤.<br/></p>
<p><strong>μ–΄ν”λ¦¬μΌ€μ΄μ…μ΄ μ²λ¦¬ν• μµκ·Ό 100κ°μ μ”μ²­</strong>μ„ μ•κΈ° μ„ν•΄μ„λ” /httptrace μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="ln" id="hl-11-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-1"> 1</a></span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-11-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-2"> 2</a></span><span class="cl">  <span class="nt">&#34;traces&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="ln" id="hl-11-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-3"> 3</a></span><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-11-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-4"> 4</a></span><span class="cl">      <span class="nt">&#34;timestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;2018-06-04T23:41:24.494Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-11-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-5"> 5</a></span><span class="cl">      <span class="nt">&#34;principal&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-11-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-6"> 6</a></span><span class="cl">      <span class="nt">&#34;session&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-11-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-7"> 7</a></span><span class="cl">      <span class="nt">&#34;request&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-11-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-8"> 8</a></span><span class="cl">        <span class="nt">&#34;method&#34;</span><span class="p">:</span> <span class="s2">&#34;GET&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-11-9"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-9"> 9</a></span><span class="cl">        <span class="nt">&#34;uri&#34;</span><span class="p">:</span> <span class="s2">&#34;http://localhost:8081/ingredients&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-11-10"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-10">10</a></span><span class="cl">        <span class="nt">&#34;headers&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-11-11"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-11">11</a></span><span class="cl">          <span class="nt">&#34;Host&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;localhost:8081&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="ln" id="hl-11-12"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-12">12</a></span><span class="cl">          <span class="nt">&#34;User-Agent&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;curl/7.54.0&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="ln" id="hl-11-13"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-13">13</a></span><span class="cl">          <span class="nt">&#34;Accept&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;*/*&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="ln" id="hl-11-14"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-14">14</a></span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-11-15"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-15">15</a></span><span class="cl">        <span class="nt">&#34;remoteAddress&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="ln" id="hl-11-16"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-16">16</a></span><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-11-17"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-17">17</a></span><span class="cl">      <span class="nt">&#34;response&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-11-18"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-18">18</a></span><span class="cl">        <span class="nt">&#34;status&#34;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-11-19"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-19">19</a></span><span class="cl">        <span class="nt">&#34;headers&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-11-20"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-20">20</a></span><span class="cl">          <span class="nt">&#34;Content-Type&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;application/json;charset=UTF-8&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="ln" id="hl-11-21"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-21">21</a></span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln" id="hl-11-22"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-22">22</a></span><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-11-23"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-23">23</a></span><span class="cl">      <span class="nt">&#34;timeTaken&#34;</span><span class="p">:</span> <span class="mi">4</span>
</span></span><span class="line"><span class="ln" id="hl-11-24"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-24">24</a></span><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-11-25"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-25">25</a></span><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="ln" id="hl-11-26"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-11-26">26</a></span><span class="cl"><span class="p">}</span> 
</span></span></code></pre></div><p>μ¤ν”„λ§ λ¶€νΈ Adminμ—μ„λ” μ΄λ° HTTP μ¶”μ  μ •λ³΄λ¥Ό μ‹¤μ‹κ°„μΌλ΅ μΊ΅μ³ν•μ—¬ κ·Έλν”„λ΅ λ³΄μ—¬μ¤€λ‹¤.</p>
<p><strong>ν„μ¬ μ‹¤ν–‰ μ¤‘μΈ μ¤λ λ“μ— κ΄€ν• μ¤λƒ…μƒ·μ„ ν™•μΈ</strong>ν•λ ¤λ©΄ /threaddump μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="ln" id="hl-12-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-1"> 1</a></span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-12-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-2"> 2</a></span><span class="cl">  <span class="nt">&#34;threadName&#34;</span><span class="p">:</span> <span class="s2">&#34;reactor-http-nio-8&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-12-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-3"> 3</a></span><span class="cl">  <span class="nt">&#34;threadId&#34;</span><span class="p">:</span> <span class="mi">338</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-12-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-4"> 4</a></span><span class="cl">  <span class="nt">&#34;blockedTime&#34;</span><span class="p">:</span> <span class="mi">-1</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-12-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-5"> 5</a></span><span class="cl">  <span class="nt">&#34;blockedCount&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-12-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-6"> 6</a></span><span class="cl">  <span class="c1">//...
</span></span></span><span class="line"><span class="ln" id="hl-12-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-7"> 7</a></span><span class="cl"><span class="c1"></span>  <span class="nt">&#34;stackTrace&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="ln" id="hl-12-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-8"> 8</a></span><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="ln" id="hl-12-9"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-9"> 9</a></span><span class="cl">      <span class="nt">&#34;methodName&#34;</span><span class="p">:</span> <span class="s2">&#34;kevent0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-12-10"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-10">10</a></span><span class="cl">      <span class="nt">&#34;fileName&#34;</span><span class="p">:</span> <span class="s2">&#34;KQueueArrayWrapper.java&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-12-11"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-11">11</a></span><span class="cl">      <span class="nt">&#34;lineNumber&#34;</span><span class="p">:</span> <span class="mi">-2</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-12-12"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-12">12</a></span><span class="cl">      <span class="nt">&#34;className&#34;</span><span class="p">:</span> <span class="s2">&#34;sun.nio.ch.KQueueArrayWrapper&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln" id="hl-12-13"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-13">13</a></span><span class="cl">      <span class="nt">&#34;nativeMethod&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="ln" id="hl-12-14"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-14">14</a></span><span class="cl">     <span class="p">},</span>
</span></span><span class="line"><span class="ln" id="hl-12-15"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-15">15</a></span><span class="cl">   <span class="p">],</span>
</span></span><span class="line"><span class="ln" id="hl-12-16"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-16">16</a></span><span class="cl">   <span class="nt">&#34;lockedMonitors&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="ln" id="hl-12-17"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-17">17</a></span><span class="cl">   <span class="nt">&#34;lockedSynchronizers&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="ln" id="hl-12-18"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-18">18</a></span><span class="cl">   <span class="nt">&#34;lockInfo&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="ln" id="hl-12-19"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-12-19">19</a></span><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>μ”μ²­ μ‹μ μ μ¤λ λ“ ν™λ™μ— λ€ν• μ¤λƒ…μƒ·μ„ ν™•μΈν•  μ μλ‹¤. μ¤λ λ“ λ¤ν”„μ—λ” μ¤λ λ“μ λΈ”λ΅ν‚Ήκ³Ό λ΅ν‚Ή μƒνƒμ κ΄€λ ¨ μƒμ„Έ μ •λ³΄μ™€ μ¤νƒ κΈ°λ΅ λ“±μ„ λ³΄μ—¬μ¤€λ‹¤.</p>
<p><strong>λ©”λ¨λ¦¬, ν”„λ΅μ„Έμ¤, κ°€λΉ„μ§€ μ»¬λ ‰μ…, HTTP μ”μ²­ κ΄€λ ¨ λ©”νΈλ¦­</strong>μ„ ν™•μΈν•λ ¤λ©΄ /metrics μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•λ‹¤.<br/>
/metrics/{λ©”νΈλ¦­ μΆ…λ¥} ν•μ‹μΌλ΅ μ‚¬μ©ν•λ‹¤λ©΄ ν•΄λ‹Ή μΆ…λ¥μ λ©”νΈλ¦­μ— λ€ν• μƒμ„Έν• μ •λ³΄λ¥Ό μ• μ μλ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln" id="hl-13-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-13-1"> 1</a></span><span class="cl">$ curl localhost:8081/actuator/metrics/http.server.requests?tag<span class="o">=</span>status:404<span class="p">&amp;</span><span class="nv">tag</span><span class="o">=</span>uri:/**
</span></span><span class="line"><span class="ln" id="hl-13-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-13-2"> 2</a></span><span class="cl"><span class="o">{</span> 
</span></span><span class="line"><span class="ln" id="hl-13-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-13-3"> 3</a></span><span class="cl">  <span class="s2">&#34;name&#34;</span>: <span class="s2">&#34;http.server.requests&#34;</span>,
</span></span><span class="line"><span class="ln" id="hl-13-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-13-4"> 4</a></span><span class="cl">  <span class="s2">&#34;measurements&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="ln" id="hl-13-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-13-5"> 5</a></span><span class="cl">    <span class="o">{</span> <span class="s2">&#34;statistic&#34;</span>: <span class="s2">&#34;COUNT&#34;</span>, <span class="s2">&#34;value&#34;</span>: <span class="m">30</span> <span class="o">}</span>,
</span></span><span class="line"><span class="ln" id="hl-13-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-13-6"> 6</a></span><span class="cl">    <span class="o">{</span> <span class="s2">&#34;statistic&#34;</span>: <span class="s2">&#34;TOTAL_TIME&#34;</span>, <span class="s2">&#34;value&#34;</span>: 0.519791548 <span class="o">}</span>,
</span></span><span class="line"><span class="ln" id="hl-13-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-13-7"> 7</a></span><span class="cl">    <span class="o">{</span> <span class="s2">&#34;statistic&#34;</span>: <span class="s2">&#34;MAX&#34;</span>, <span class="s2">&#34;value&#34;</span>: <span class="m">0</span> <span class="o">}</span>, 
</span></span><span class="line"><span class="ln" id="hl-13-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-13-8"> 8</a></span><span class="cl">  <span class="o">]</span>,
</span></span><span class="line"><span class="ln" id="hl-13-9"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-13-9"> 9</a></span><span class="cl">  <span class="s2">&#34;availableTags&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="ln" id="hl-13-10"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-13-10">10</a></span><span class="cl">    <span class="o">{</span> <span class="s2">&#34;tag&#34;</span>: <span class="s2">&#34;exception&#34;</span>, <span class="s2">&#34;values&#34;</span>: <span class="o">[</span> <span class="s2">&#34;ResponseStatusException&#34;</span> <span class="o">]</span> <span class="o">}</span>,
</span></span><span class="line"><span class="ln" id="hl-13-11"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-13-11">11</a></span><span class="cl">    <span class="o">{</span> <span class="s2">&#34;tag&#34;</span>: <span class="s2">&#34;method&#34;</span>, <span class="s2">&#34;values&#34;</span>: <span class="o">[</span> <span class="s2">&#34;GET&#34;</span> <span class="o">]</span> <span class="o">}</span>
</span></span><span class="line"><span class="ln" id="hl-13-12"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-13-12">12</a></span><span class="cl">  <span class="o">]</span>
</span></span><span class="line"><span class="ln" id="hl-13-13"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-13-13">13</a></span><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p>tagμ— stauts, url νƒκ·Έ μ΄λ¦„κ³Ό κ°’μ„ μ§€μ •ν•λ©΄ HTTP 404 μ‘λ‹µμ„ λ°›μ€ /** κ²½λ΅μ— λ€ν• λ©”νΈλ¦­μ„ λ³Ό μ μλ‹¤.</p>
<h2 id="μ•΅μ¶”μ—μ΄ν„°-μ»¤μ¤ν„°λ§μ΄μ§•">μ•΅μ¶”μ—μ΄ν„° μ»¤μ¤ν„°λ§μ΄μ§•</h2>
<hr>
<blockquote>
<p>μ–΄ν”λ¦¬μΌ€μ΄μ…μ νΉμ • μ”κµ¬λ¥Ό μ¶©μ΅±ν•κΈ° μ„ν•΄ μ»¤μ¤ν„°λ§μ΄μ§•μ„ ν•  μ μλ‹¤.</p>
</blockquote>
<h3 id="info-μ—”λ“ν¬μΈνΈ-μ»¤μ¤ν„°λ§μ΄μ§•">/info μ—”λ“ν¬μΈνΈ μ»¤μ¤ν„°λ§μ΄μ§•</h3>
<p><span class="red">InfoContributorλΌλ” μΈν„°νμ΄μ¤</span>λ¥Ό μ‚¬μ©ν•μ—¬ /info μ—”λ“ν¬μΈνΈ μ‘λ‹µμ— μ»¤μ¤ν…€ λ°μ΄ν„°λ¥Ό μ¶”κ°€ν•  μ μλ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln" id="hl-14-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-1"> 1</a></span><span class="cl"><span class="nd">@Component</span>
</span></span><span class="line"><span class="ln" id="hl-14-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-2"> 2</a></span><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TacoCountInfoContributor</span> <span class="kd">implements</span> <span class="n">InfoContributor</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-14-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-3"> 3</a></span><span class="cl">  <span class="kd">private</span> <span class="n">TacoRepository</span> <span class="n">tacoRepo</span><span class="o">;</span>
</span></span><span class="line"><span class="ln" id="hl-14-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-4"> 4</a></span><span class="cl">  
</span></span><span class="line"><span class="ln" id="hl-14-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-5"> 5</a></span><span class="cl">  <span class="kd">public</span> <span class="nf">TacoCountInfoContributor</span><span class="o">(</span><span class="n">TacoRepository</span> <span class="n">tacoRepo</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-14-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-6"> 6</a></span><span class="cl">    <span class="k">this</span><span class="o">.</span><span class="na">tacoRepo</span> <span class="o">=</span> <span class="n">tacoRepo</span><span class="o">;</span>
</span></span><span class="line"><span class="ln" id="hl-14-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-7"> 7</a></span><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="ln" id="hl-14-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-8"> 8</a></span><span class="cl">
</span></span><span class="line"><span class="ln" id="hl-14-9"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-9"> 9</a></span><span class="cl">  <span class="nd">@Override</span>
</span></span><span class="line"><span class="ln" id="hl-14-10"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-10">10</a></span><span class="cl">  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">contribute</span><span class="o">(</span><span class="n">Builder</span> <span class="n">builder</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-14-11"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-11">11</a></span><span class="cl">    <span class="kt">long</span> <span class="n">tacoCount</span> <span class="o">=</span> <span class="n">tacoRepo</span><span class="o">.</span><span class="na">count</span><span class="o">();</span>
</span></span><span class="line"><span class="ln" id="hl-14-12"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-12">12</a></span><span class="cl">    <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">tacoMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="ln" id="hl-14-13"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-13">13</a></span><span class="cl">    <span class="n">tacoMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;count&#34;</span><span class="o">,</span> <span class="n">tacoCount</span><span class="o">);</span>
</span></span><span class="line"><span class="ln" id="hl-14-14"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-14">14</a></span><span class="cl">    <span class="n">builder</span><span class="o">.</span><span class="na">withDetail</span><span class="o">(</span><span class="s">&#34;taco-stats&#34;</span><span class="o">,</span> <span class="n">tacoMap</span><span class="o">);</span>
</span></span><span class="line"><span class="ln" id="hl-14-15"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-15">15</a></span><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="ln" id="hl-14-16"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-14-16">16</a></span><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p>InfoContributor μΈν„°νμ΄μ¤ κµ¬ν„μ²΄μΈ contribute() λ©”μ„λ“ <strong>λ‚΄λ¶€μ— μΈμλ΅ λ°›μ€ Builder κ°μ²΄μ withDetails() λ¥Ό νΈμ¶ν•μ—¬</strong> /info μ—”λ“ν¬μΈνΈμ— μ •λ³΄λ¥Ό μ¶”κ°€ν•  μ μλ‹¤.</p>
<p><strong>λΉλ“ μ •λ³΄λ¥Ό μ£Όμ…</strong>ν•λ ¤λ©΄ build.gradle νμΌμ— λ‹¤μκ³Ό κ°™μ΄ μ¶”κ°€ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-groovy" data-lang="groovy"><span class="line"><span class="ln" id="hl-15-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-15-1">1</a></span><span class="cl"><span class="n">springBoot</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-15-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-15-2">2</a></span><span class="cl">  <span class="n">buildInfo</span><span class="o">()</span>
</span></span><span class="line"><span class="ln" id="hl-15-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-15-3">3</a></span><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p><strong>Git μ»¤λ°‹ μ •λ³΄λ¥Ό μ£Όμ…</strong>ν•λ ¤λ©΄ build.gradle νμΌμ— λ‹¤μκ³Ό κ°™μ΄ μ¶”κ°€ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-groovy" data-lang="groovy"><span class="line"><span class="ln" id="hl-16-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-16-1">1</a></span><span class="cl"><span class="n">plugins</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-16-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-16-2">2</a></span><span class="cl">  <span class="n">id</span> <span class="s2">&#34;com.gorylenko.gradle-git-properties&#34;</span> <span class="n">version</span> <span class="s2">&#34;1.4.17&#34;</span>
</span></span><span class="line"><span class="ln" id="hl-16-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-16-3">3</a></span><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p>μ΄ μ •λ³΄λ” ν”„λ΅μ νΈκ°€ λΉλ“λ μ‹μ μ κ°„λ‹¨ν• μ½”λ“ μƒνƒλ§μ„ λ‚νƒ€λ‚Έλ‹¤. <br/>
μμ„Έν• μ •λ³΄λ¥Ό μ–»κΈ° μ„ν•΄μ„λ” <code>management.info.git.mode</code> μ†μ„±μ„ fullλ΅ μ„¤μ •ν•λ©΄ λλ‹¤. - <span class="gray"><em>application.yml</em></span></p>
<h3 id="κ±΄κ°•-μ§€ν‘-μ»¤μ¤ν„°λ§μ΄μ§•">κ±΄κ°• μ§€ν‘ μ»¤μ¤ν„°λ§μ΄μ§•</h3>
<p><span class="red">HealthIndicator μΈν„°νμ΄μ¤</span>λ¥Ό μ‚¬μ©ν•μ—¬ <em>μ¤ν”„λ§ λ¶€νΈμ—μ„ μ§€μ›ν•μ§€ μ•λ”</em> μ™Έλ¶€ μ‹μ¤ν…μ κ±΄κ°• μƒνƒ μ •λ³΄λ¥Ό μ κ³µν•  μ μλ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln" id="hl-17-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-1"> 1</a></span><span class="cl"><span class="nd">@Component</span>
</span></span><span class="line"><span class="ln" id="hl-17-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-2"> 2</a></span><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">WackoHealthIndicator</span> <span class="kd">implements</span> <span class="n">HealthIndicator</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-17-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-3"> 3</a></span><span class="cl">  <span class="nd">@Override</span>
</span></span><span class="line"><span class="ln" id="hl-17-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-4"> 4</a></span><span class="cl">  <span class="kd">public</span> <span class="n">Health</span> <span class="nf">health</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-17-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-5"> 5</a></span><span class="cl">    <span class="kt">int</span> <span class="n">hour</span> <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">HOUR_OF_DAY</span><span class="o">);</span>
</span></span><span class="line"><span class="ln" id="hl-17-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-6"> 6</a></span><span class="cl">    <span class="k">if</span> <span class="o">(</span><span class="n">hour</span> <span class="o">&gt;</span> <span class="n">12</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-17-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-7"> 7</a></span><span class="cl">      <span class="k">return</span> <span class="n">Health</span><span class="o">.</span><span class="na">outOfService</span><span class="o">().</span><span class="na">withDetail</span><span class="o">(</span><span class="s">&#34;reason&#34;</span><span class="o">,</span> <span class="s">&#34;out of service&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="ln" id="hl-17-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-8"> 8</a></span><span class="cl">                   <span class="o">.</span><span class="na">withDetail</span><span class="o">(</span><span class="s">&#34;hour&#34;</span><span class="o">,</span> <span class="n">hour</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
</span></span><span class="line"><span class="ln" id="hl-17-9"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-9"> 9</a></span><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="ln" id="hl-17-10"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-10">10</a></span><span class="cl">    
</span></span><span class="line"><span class="ln" id="hl-17-11"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-11">11</a></span><span class="cl">    <span class="k">if</span> <span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">random</span><span class="o">()</span> <span class="o">&lt;</span> <span class="n">0</span><span class="o">.</span><span class="na">1</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-17-12"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-12">12</a></span><span class="cl">      <span class="k">return</span> <span class="n">Health</span><span class="o">.</span><span class="na">outOfService</span><span class="o">().</span><span class="na">withDetail</span><span class="o">(</span><span class="s">&#34;reason&#34;</span><span class="o">,</span> <span class="s">&#34;break 10% of the time&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="ln" id="hl-17-13"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-13">13</a></span><span class="cl">                   <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span><span class="line"><span class="ln" id="hl-17-14"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-14">14</a></span><span class="cl">    <span class="o">}</span>    
</span></span><span class="line"><span class="ln" id="hl-17-15"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-15">15</a></span><span class="cl">    
</span></span><span class="line"><span class="ln" id="hl-17-16"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-16">16</a></span><span class="cl">    <span class="k">return</span> <span class="n">Health</span><span class="o">.</span><span class="na">up</span><span class="o">().</span><span class="na">withDetail</span><span class="o">(</span><span class="s">&#34;reason&#34;</span><span class="o">,</span> <span class="s">&#34;good&#34;</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
</span></span><span class="line"><span class="ln" id="hl-17-17"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-17">17</a></span><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="ln" id="hl-17-18"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-17-18">18</a></span><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p>μ™Έλ¶€ μ‹μ¤ν…μ— μ›κ²© νΈμ¶μ„ ν• ν›„ λ°›μ€ μ‘λ‹µ κΈ°μ¤€μΌλ΅ κ±΄κ°• μƒνƒλ¥Ό κ²°μ •ν•λ” λ°©μ‹μΌλ΅ μ μ©ν•κ² μ‚¬μ©ν•  μ μλ‹¤.</p>
<h3 id="μ»¤μ¤ν…€-λ©”νΈλ¦­-λ“±λ΅">μ»¤μ¤ν…€ λ©”νΈλ¦­ λ“±λ΅</h3>
<p>Micrometerμ <span class="red">MeterRegistry</span>λ¥Ό μ‚¬μ©ν•μ—¬ μ¤ν”„λ§ λ¶€νΈ μ–΄ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ©”νΈλ¦­μ„ λ°ν–‰ν•  μ μλ‹¤. λ©”νΈλ¦­μ„ λ°ν–‰ν•  λ•λ” ν•„μ”ν• κ³³μ— MeterRegistryλ¥Ό μ£Όμ…ν•λ©΄ λλ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln" id="hl-18-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-1"> 1</a></span><span class="cl"><span class="nd">@Component</span>
</span></span><span class="line"><span class="ln" id="hl-18-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-2"> 2</a></span><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TacoMetrics</span> <span class="kd">extends</span> <span class="n">AbstractRepositoryEventListener</span><span class="o">&lt;</span><span class="n">Taco</span><span class="o">&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-18-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-3"> 3</a></span><span class="cl">  <span class="kd">private</span> <span class="n">MeterRegistry</span> <span class="n">meterRegistry</span><span class="o">;</span>
</span></span><span class="line"><span class="ln" id="hl-18-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-4"> 4</a></span><span class="cl">  <span class="kd">public</span> <span class="nf">TacoMetrics</span><span class="o">(</span><span class="n">MeterRegistry</span> <span class="n">meterRegistry</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-18-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-5"> 5</a></span><span class="cl">    <span class="k">this</span><span class="o">.</span><span class="na">meterRegistry</span> <span class="o">=</span> <span class="n">meterRegistry</span><span class="o">;</span>
</span></span><span class="line"><span class="ln" id="hl-18-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-6"> 6</a></span><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="ln" id="hl-18-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-7"> 7</a></span><span class="cl">
</span></span><span class="line"><span class="ln" id="hl-18-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-8"> 8</a></span><span class="cl">  <span class="nd">@Override</span>
</span></span><span class="line"><span class="ln" id="hl-18-9"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-9"> 9</a></span><span class="cl">  <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onAfterCreate</span><span class="o">(</span><span class="n">Taco</span> <span class="n">taco</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-18-10"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-10">10</a></span><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">Ingredient</span><span class="o">&gt;</span> <span class="n">ingredients</span> <span class="o">=</span> <span class="n">taco</span><span class="o">.</span><span class="na">getIngredients</span><span class="o">();</span>
</span></span><span class="line"><span class="ln" id="hl-18-11"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-11">11</a></span><span class="cl">    <span class="k">for</span> <span class="o">(</span><span class="n">Ingredient</span> <span class="n">ingredient</span> <span class="o">:</span> <span class="n">ingredients</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-18-12"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-12">12</a></span><span class="cl">      <span class="n">meterRegistry</span><span class="o">.</span><span class="na">counter</span><span class="o">(</span><span class="s">&#34;tacocloud&#34;</span><span class="o">,</span> <span class="s">&#34;ingredient&#34;</span><span class="o">,</span> <span class="n">ingredient</span><span class="o">.</span><span class="na">getId</span><span class="o">()).</span><span class="na">increment</span><span class="o">();</span>
</span></span><span class="line"><span class="ln" id="hl-18-13"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-13">13</a></span><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="ln" id="hl-18-14"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-14">14</a></span><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="ln" id="hl-18-15"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-18-15">15</a></span><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p>μ¤ν”„λ§ λ°μ΄ν„° ν΄λμ¤μΈ AbstractRepositoryEventListenerμ μ„λΈ ν΄λμ¤λ¥Ό μƒμ„±ν•κ³  <span class="red">μƒλ΅μ΄ κ°μ²΄κ°€ μ €μ¥λ  λ•λ§λ‹¤ νΈμ¶λλ„λ΅ onAfterCreate() λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ”©ν•λ‹¤.</span></p>
<h3 id="μ»¤μ¤ν…€-μ—”λ“ν¬μΈνΈ-μƒμ„±">μ»¤μ¤ν…€ μ—”λ“ν¬μΈνΈ μƒμ„±</h3>
<p>μ•΅μ¶”μ—μ΄ν„° μ•¤λ“ν¬μΈνΈλ¥Ό μ§€μ •ν•λ ¤λ©΄ <strong>@EndPoint</strong> μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ‹¤. λν• @GetMapping, @PostMapping λ€μ‹  @ReadOperation, @WriteOperation, @DeleteOperation μ–΄λ…Έν…μ΄μ…μ΄ μ§€μ •λ λ©”μ„λ“λ΅ μ •μλλ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln" id="hl-19-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-1"> 1</a></span><span class="cl"><span class="nd">@Component</span>
</span></span><span class="line"><span class="ln" id="hl-19-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-2"> 2</a></span><span class="cl"><span class="nd">@Endpoint</span><span class="o">(</span><span class="n">id</span><span class="o">=</span><span class="s">&#34;notes&#34;</span><span class="o">,</span> <span class="n">enableByDefault</span><span class="o">=</span><span class="kc">true</span><span class="o">)</span>
</span></span><span class="line"><span class="ln" id="hl-19-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-3"> 3</a></span><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NotesEndpoint</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-19-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-4"> 4</a></span><span class="cl">
</span></span><span class="line"><span class="ln" id="hl-19-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-5"> 5</a></span><span class="cl">  <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Note</span><span class="o">&gt;</span> <span class="n">notes</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="ln" id="hl-19-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-6"> 6</a></span><span class="cl">  
</span></span><span class="line"><span class="ln" id="hl-19-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-7"> 7</a></span><span class="cl">  <span class="nd">@ReadOperation</span>
</span></span><span class="line"><span class="ln" id="hl-19-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-8"> 8</a></span><span class="cl">  <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Note</span><span class="o">&gt;</span> <span class="nf">notes</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-19-9"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-9"> 9</a></span><span class="cl">    <span class="k">return</span> <span class="n">notes</span><span class="o">;</span>
</span></span><span class="line"><span class="ln" id="hl-19-10"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-10">10</a></span><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="ln" id="hl-19-11"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-11">11</a></span><span class="cl">  
</span></span><span class="line"><span class="ln" id="hl-19-12"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-12">12</a></span><span class="cl">  <span class="nd">@WriteOperation</span>
</span></span><span class="line"><span class="ln" id="hl-19-13"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-13">13</a></span><span class="cl">  <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Note</span><span class="o">&gt;</span> <span class="nf">addNote</span><span class="o">(</span><span class="n">String</span> <span class="n">text</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-19-14"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-14">14</a></span><span class="cl">    <span class="n">notes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Note</span><span class="o">(</span><span class="n">text</span><span class="o">));</span>
</span></span><span class="line"><span class="ln" id="hl-19-15"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-15">15</a></span><span class="cl">    <span class="k">return</span> <span class="n">notes</span><span class="o">;</span>
</span></span><span class="line"><span class="ln" id="hl-19-16"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-16">16</a></span><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="ln" id="hl-19-17"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-17">17</a></span><span class="cl">  
</span></span><span class="line"><span class="ln" id="hl-19-18"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-18">18</a></span><span class="cl">  <span class="nd">@DeleteOperation</span>
</span></span><span class="line"><span class="ln" id="hl-19-19"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-19">19</a></span><span class="cl">  <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Note</span><span class="o">&gt;</span> <span class="nf">deleteNote</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-19-20"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-20">20</a></span><span class="cl">    <span class="k">if</span> <span class="o">(</span><span class="n">index</span> <span class="o">&lt;</span> <span class="n">notes</span><span class="o">.</span><span class="na">size</span><span class="o">())</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-19-21"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-21">21</a></span><span class="cl">      <span class="n">notes</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="ln" id="hl-19-22"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-22">22</a></span><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="ln" id="hl-19-23"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-23">23</a></span><span class="cl">    <span class="k">return</span> <span class="n">notes</span><span class="o">;</span>
</span></span><span class="line"><span class="ln" id="hl-19-24"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-24">24</a></span><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="ln" id="hl-19-25"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-25">25</a></span><span class="cl">  
</span></span><span class="line"><span class="ln" id="hl-19-26"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-26">26</a></span><span class="cl">  <span class="nd">@RequiredArgsConstructor</span>
</span></span><span class="line"><span class="ln" id="hl-19-27"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-27">27</a></span><span class="cl">  <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Note</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-19-28"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-28">28</a></span><span class="cl">    <span class="nd">@Getter</span>
</span></span><span class="line"><span class="ln" id="hl-19-29"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-29">29</a></span><span class="cl">    <span class="kd">private</span> <span class="n">Date</span> <span class="n">time</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Date</span><span class="o">();</span>
</span></span><span class="line"><span class="ln" id="hl-19-30"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-30">30</a></span><span class="cl">
</span></span><span class="line"><span class="ln" id="hl-19-31"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-31">31</a></span><span class="cl">    <span class="nd">@Getter</span>
</span></span><span class="line"><span class="ln" id="hl-19-32"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-32">32</a></span><span class="cl">    <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">text</span><span class="o">;</span>
</span></span><span class="line"><span class="ln" id="hl-19-33"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-33">33</a></span><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="ln" id="hl-19-34"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-19-34">34</a></span><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p>μ“°κΈ° μ¤νΌλ μ΄μ…μΌλ΅ λ°μ΄ν„°λ¥Ό μ μ¶ν•κ³ , μ½κΈ° μ¤νΌλ μ΄μ…μΌλ΅ λ°μ΄ν„°λ¥Ό μ½μ„ μ μμΌλ©°, μ‚­μ  μ¤νΌλ μ΄μ…μΌλ΅ λ°μ΄ν„°λ¥Ό μ‚­μ ν•  μ μλ‹¤. enableByDefault=trueλ΅ μ§€μ •ν–κΈ° λ•λ¬Έμ— ν•΄λ‹Ή μ—”λ“ν¬μΈνΈλ¥Ό κµ¬μ„± μ†μ„±μ—μ„ ν™μ„±ν™”ν•μ§€ μ•μ•„λ„ λλ‹¤.</p>
<p>μ—”λ“ν¬μΈνΈλ¥Ό <strong>HTTP μ—”λ“ν¬μΈνΈλ΅λ§ μ ν•</strong>ν•κ³  μ‹¶λ‹¤λ©΄ @WebEndPoint μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln" id="hl-20-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-20-1">1</a></span><span class="cl"><span class="nd">@Component</span>
</span></span><span class="line"><span class="ln" id="hl-20-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-20-2">2</a></span><span class="cl"><span class="nd">@WebEndpoint</span><span class="o">(</span><span class="n">id</span><span class="o">=</span><span class="s">&#34;notes&#34;</span><span class="o">,</span> <span class="n">enableByDefault</span><span class="o">=</span><span class="kc">true</span><span class="o">)</span>
</span></span><span class="line"><span class="ln" id="hl-20-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-20-3">3</a></span><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NotesEndpoint</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-20-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-20-4">4</a></span><span class="cl">  <span class="o">...</span>
</span></span><span class="line"><span class="ln" id="hl-20-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-20-5">5</a></span><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><h2 id="μ•΅μ¶”μ—μ΄ν„°-λ³΄μ•-μ²λ¦¬">μ•΅μ¶”μ—μ΄ν„° λ³΄μ• μ²λ¦¬</h2>
<hr>
<blockquote>
<p>κ¶ν•μ„ κ°–λ” ν΄λΌμ΄μ–ΈνΈλ§ μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•κ² ν•κΈ° μ„ν•΄μ„λ” μ¤ν”„λ§ μ‹νλ¦¬ν‹°λ¥Ό μ‚¬μ©ν•΄μ„ μ•΅μ¶”μ—μ΄ν„°μ λ³΄μ•μ„ μ²λ¦¬ν•΄μ•Ό ν•λ‹¤.</p>
</blockquote>
<p>μ•΅μ¶”μ—μ΄ν„° μ—”λ“ν¬μΈνΈμ κ³µν†µ κΈ°λ³Έ κ²½λ΅μΈ /actuator κ²½λ΅μ— λ€ν• λ³΄μ•μ„ μ¶”κ°€ν•λ ¤λ©΄ λ‹¤μκ³Ό κ°™μ΄ μ„¤μ •ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln" id="hl-21-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-21-1">1</a></span><span class="cl"><span class="nd">@Override</span>
</span></span><span class="line"><span class="ln" id="hl-21-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-21-2">2</a></span><span class="cl"><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">(</span><span class="n">HttpSecurity</span> <span class="n">http</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-21-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-21-3">3</a></span><span class="cl">  <span class="n">http</span><span class="o">.</span><span class="na">authorizeRequests</span><span class="o">()</span>
</span></span><span class="line"><span class="ln" id="hl-21-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-21-4">4</a></span><span class="cl">        <span class="o">.</span><span class="na">antMatchers</span><span class="o">(</span><span class="s">&#34;/actuator/**&#34;</span><span class="o">).</span><span class="na">hasRole</span><span class="o">(</span><span class="s">&#34;ADMIN&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="ln" id="hl-21-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-21-5">5</a></span><span class="cl">      <span class="o">.</span><span class="na">and</span><span class="o">()</span>
</span></span><span class="line"><span class="ln" id="hl-21-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-21-6">6</a></span><span class="cl">      <span class="o">.</span><span class="na">httpBasic</span><span class="o">();</span>
</span></span><span class="line"><span class="ln" id="hl-21-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-21-7">7</a></span><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p>ROLE_ADMIN κ¶ν•μ„ κ°€μ§€λ” μ‚¬μ©μλ§ μ•΅μ¶”μ—μ΄ν„° μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•  μ μλ‹¤.</p>
<p><strong>μ—”λ“ν¬μΈνΈ κ²½λ΅λ¥Ό κµ¬μ„± μ†μ„±μ—μ„ λ³€κ²½ν–λ‹¤λ©΄</strong> <span class="red">EndpointRequest ν΄λμ¤</span>λ¥Ό ν†µν•΄ λ³€κ²½λ κ²½λ΅λ¥Ό μ• μ μλ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln" id="hl-22-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-22-1">1</a></span><span class="cl"><span class="nd">@Override</span>
</span></span><span class="line"><span class="ln" id="hl-22-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-22-2">2</a></span><span class="cl"><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">(</span><span class="n">HttpSecurity</span> <span class="n">http</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-22-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-22-3">3</a></span><span class="cl">  <span class="n">http</span><span class="o">.</span><span class="na">requestMatcher</span><span class="o">(</span><span class="n">EndpointRequest</span><span class="o">.</span><span class="na">toAnyEndpoint</span><span class="o">())</span>
</span></span><span class="line"><span class="ln" id="hl-22-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-22-4">4</a></span><span class="cl">        <span class="o">.</span><span class="na">authorizeRequests</span><span class="o">()</span>
</span></span><span class="line"><span class="ln" id="hl-22-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-22-5">5</a></span><span class="cl">          <span class="o">.</span><span class="na">anyRequest</span><span class="o">().</span><span class="na">hasRole</span><span class="o">(</span><span class="s">&#34;ADMIN&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="ln" id="hl-22-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-22-6">6</a></span><span class="cl">      <span class="o">.</span><span class="na">and</span><span class="o">()</span>
</span></span><span class="line"><span class="ln" id="hl-22-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-22-7">7</a></span><span class="cl">      <span class="o">.</span><span class="na">httpBasic</span><span class="o">();</span>
</span></span><span class="line"><span class="ln" id="hl-22-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-22-8">8</a></span><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p><code>EndpointRequest.toAnyEndpoint()</code> λ©”μ„λ“λ” μ•΅μ¶”μ—μ΄ν„° μ—”λ“ν¬μΈνΈμ™€ μΌμΉν•λ” μ”μ²­ κ²½λ΅ λ¨μμ„ λ°ν™ν•λ‹¤. <br/>
<strong>μΌλ¶€ μ—”λ“ν¬μΈνΈλ¥Ό μ μ™Έ</strong>ν•κ³  μ‹¶μΌλ©΄ excluding() λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln" id="hl-23-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-23-1">1</a></span><span class="cl"><span class="nd">@Override</span>
</span></span><span class="line"><span class="ln" id="hl-23-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-23-2">2</a></span><span class="cl"><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">(</span><span class="n">HttpSecurity</span> <span class="n">http</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-23-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-23-3">3</a></span><span class="cl">  <span class="n">http</span><span class="o">.</span><span class="na">requestMatcher</span><span class="o">(</span><span class="n">EndpointRequest</span><span class="o">.</span><span class="na">toAnyEndpoint</span><span class="o">().</span><span class="na">excluding</span><span class="o">(</span><span class="s">&#34;health&#34;</span><span class="o">,</span> <span class="s">&#34;info&#34;</span><span class="o">))</span>
</span></span><span class="line"><span class="ln" id="hl-23-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-23-4">4</a></span><span class="cl">        <span class="o">.</span><span class="na">authorizeRequests</span><span class="o">()</span>
</span></span><span class="line"><span class="ln" id="hl-23-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-23-5">5</a></span><span class="cl">          <span class="o">.</span><span class="na">anyRequest</span><span class="o">().</span><span class="na">hasRole</span><span class="o">(</span><span class="s">&#34;ADMIN&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="ln" id="hl-23-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-23-6">6</a></span><span class="cl">      <span class="o">.</span><span class="na">and</span><span class="o">()</span>
</span></span><span class="line"><span class="ln" id="hl-23-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-23-7">7</a></span><span class="cl">      <span class="o">.</span><span class="na">httpBasic</span><span class="o">();</span>
</span></span><span class="line"><span class="ln" id="hl-23-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-23-8">8</a></span><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><br/>
<p><strong>μΌλ¶€ μ•΅μ¶”μ—μ΄ν„° μ—”λ“ν¬μΈνΈμ—λ§ λ³΄μ•μ„ μ μ©</strong>ν•κ³  μ‹¶μΌλ©΄ to() λ©”μ„λ“λ¥Ό νΈμ¶ν•λ‹¤.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln" id="hl-24-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-24-1">1</a></span><span class="cl"><span class="nd">@Override</span>
</span></span><span class="line"><span class="ln" id="hl-24-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-24-2">2</a></span><span class="cl"><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">(</span><span class="n">HttpSecurity</span> <span class="n">http</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
</span></span><span class="line"><span class="ln" id="hl-24-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-24-3">3</a></span><span class="cl">  <span class="n">http</span><span class="o">.</span><span class="na">requestMatcher</span><span class="o">(</span><span class="n">EndpointRequest</span><span class="o">.</span><span class="na">to</span><span class="o">(</span><span class="s">&#34;health&#34;</span><span class="o">,</span> <span class="s">&#34;info&#34;</span><span class="o">))</span>
</span></span><span class="line"><span class="ln" id="hl-24-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-24-4">4</a></span><span class="cl">        <span class="o">.</span><span class="na">authorizeRequests</span><span class="o">()</span>
</span></span><span class="line"><span class="ln" id="hl-24-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-24-5">5</a></span><span class="cl">          <span class="o">.</span><span class="na">anyRequest</span><span class="o">().</span><span class="na">hasRole</span><span class="o">(</span><span class="s">&#34;ADMIN&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="ln" id="hl-24-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-24-6">6</a></span><span class="cl">      <span class="o">.</span><span class="na">and</span><span class="o">()</span>
</span></span><span class="line"><span class="ln" id="hl-24-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-24-7">7</a></span><span class="cl">      <span class="o">.</span><span class="na">httpBasic</span><span class="o">();</span>
</span></span><span class="line"><span class="ln" id="hl-24-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-24-8">8</a></span><span class="cl"><span class="o">}</span>
</span></span></code></pre></div>


<h3>Posts in this Series</h3>
<ul>
  
    <li><a href="/post/spring/spring-jmx/">[μ¤ν”„λ§μΈμ•΅μ…] JMXλ΅ μ¤ν”„λ§ λ¨λ‹ν„°λ§</a></li>

  
    <li><a href="/post/spring/spring-boot-admin-basic/">[μ¤ν”„λ§μΈμ•΅μ…] μ¤ν”„λ§ κ΄€λ¦¬</a></li>

  
    <li><a href="/post/spring/spring-actuator/">[μ¤ν”„λ§μΈμ•΅μ…] μ¤ν”„λ§ μ•΅μ¶”μ—μ΄ν„° μ‚¬μ©</a></li>

  
    <li><a href="/post/spring/spring-circuit-breaker/">[μ¤ν”„λ§μΈμ•΅μ…] μ‹¤ν¨μ™€ μ§€μ—° μ²λ¦¬</a></li>

  
    <li><a href="/post/spring/spring-cloud-config/">[μ¤ν”„λ§μΈμ•΅μ…] ν΄λΌμ°λ“ κµ¬μ„± κ΄€λ¦¬</a></li>

  
    <li><a href="/post/spring/spring-microservice/">[μ¤ν”„λ§μΈμ•΅μ…] λ§μ΄ν¬λ΅μ„λΉ„μ¤ μ΄ν•΄</a></li>

  
    <li><a href="/post/spring/spring-reactive-data-persistence/">[μ¤ν”„λ§μΈμ•΅μ…] λ¦¬μ•΅ν‹°λΈ λ°μ΄ν„° νΌμ‹μ¤ν„΄μ¤</a></li>

  
    <li><a href="/post/spring/spring-reactive-api/">[μ¤ν”„λ§μΈμ•΅μ…] λ¦¬μ•΅ν‹°λΈ API κ°λ°</a></li>

  
    <li><a href="/post/spring/spring-reactor/">[μ¤ν”„λ§μΈμ•΅μ…] λ¦¬μ•΅ν„° κ°μ”</a></li>

  
    <li><a href="/post/spring/spring-integration/">[μ¤ν”„λ§μΈμ•΅μ…] μ¤ν”„λ§ ν†µν•© ν”λ΅μ° μ‚¬μ©</a></li>

  
    <li><a href="/post/spring/spring-messaging-kafka/">[μ¤ν”„λ§μΈμ•΅μ…] λΉ„λ™κΈ° λ©”μ‹μ§€ μ „μ†΅ν•κΈ° - Kafka</a></li>

  
    <li><a href="/post/spring/spring-messaging-rabbitmq/">[μ¤ν”„λ§μΈμ•΅μ…] λΉ„λ™κΈ° λ©”μ‹μ§€ μ „μ†΅ν•κΈ° - RabbitMQ</a></li>

  
    <li><a href="/post/spring/spring-messaging-jms/">[μ¤ν”„λ§μΈμ•΅μ…] λΉ„λ™κΈ° λ©”μ‹μ§€ μ „μ†΅ν•κΈ° - JMS</a></li>

  
    <li><a href="/post/spring/spring-use-restapi/">[μ¤ν”„λ§μΈμ•΅μ…] REST API μ‚¬μ©ν•κΈ°</a></li>

  
    <li><a href="/post/spring/spring-add-restapi/">[μ¤ν”„λ§μΈμ•΅μ…] REST API μƒμ„±ν•κΈ°</a></li>

  
    <li><a href="/post/spring/spring-config/">[μ¤ν”„λ§μΈμ•΅μ…] κµ¬μ„± μ†μ„± μ‚¬μ©</a></li>

  
    <li><a href="/post/spring/spring-security/">[μ¤ν”„λ§μΈμ•΅μ…] μ¤ν”„λ§ μ‹νλ¦¬ν‹°</a></li>

  
    <li><a href="/post/spring/spring-db/">[μ¤ν”„λ§μΈμ•΅μ…] λ°μ΄ν„°λ΅ μ‘μ—…ν•κΈ°</a></li>

  
    <li><a href="/post/spring/spring-basic/">[μ¤ν”„λ§μΈμ•΅μ…] μ¤ν”„λ§ μ΄κΈ° μ„¤μ •</a></li>

  
</ul>


<div class="related">
  <div class="related--list">
    
      
        <a href="/post/spring/spring-persistence-context/"><span><i class="fa-solid fa-angle-left"></i>μ΄μ „ κ²μ‹λ¬Ό</span> <p>μμ†μ„± μ»¨ν…μ¤νΈ(persistence context)μ κ°λ…</p></a>
      

    
      
        <a href="/post/spring/spring-jmx/"><span>λ‹¤μ κ²μ‹λ¬Ό<i class="fa-solid fa-angle-right"></i></span> <p>[μ¤ν”„λ§μΈμ•΅μ…] JMXλ΅ μ¤ν”„λ§ λ¨λ‹ν„°λ§</p></a>
      

    
  </div>
</div>

</div>
    <div class="post__footer">
      
        <span><a class="category" href="/categories/web/">Web</a></span>





      

      
        <span><a class="tag" href="/tags/spring/">spring</a><a class="tag" href="/tags/web/">web</a><a class="tag" href="/tags/java/">java</a><a class="tag" href="/tags/spring-boot/">spring boot</a><a class="tag" href="/tags/spring-actuator/">spring actuator</a></span>




      
    </div>

    
  </div>

  <script>
    const toc = document.getElementById('tableOfContent');

    const displayTocFromSize = function () {
      if (window.innerWidth >= 1520) {        
        toc.style.display = "block";
      } 
      else {
        toc.style.display = "none";  
      }
    }

    displayTocFromSize();
    window.addEventListener('resize', displayTocFromSize);

    var link = document.querySelectorAll('a[href*="#"]')

    for (i = 0; i < link.length; i++) {
      link[i].addEventListener('click', function(e) {
        e.preventDefault();
        let id = decodeURI(this.href.split('/')[6].split('#')[1]);
        const target = document.getElementById(id);

        window.scrollTo({ top: target.offsetTop - 80, behavior: "smooth" });
      });
    }
    
  </script>


      </main>
    </div><footer class="footer footer__base">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        lhj8390
        2023


      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.972a2c29b7a36a3c40cc4798c8fab0dbae92c1089ab0691e84acbf0c7720ccb3.js"
    integrity="sha256-lyosKbejajxAzEeYyPqw266SwQiasGkehKy/DHcgzLM="
    crossorigin="anonymous"
  ></script></body>
  <script>
    const searchWrapper = document.getElementById('searchWrapper');
  
    const openSearchPopup = function (e) {
      window.scrollTo(0, 0);
      if (document.getElementById('searchInput') === e.target || document.getElementById('searchbox') === e.target)
        return;
      
      if (searchWrapper.style.display == 'none') {
        searchWrapper.style.display = 'block';
        document.getElementsByClassName('body')[0].style.overflow = 'hidden';

      }
      else {
        searchWrapper.style.display = 'none';
        document.getElementsByClassName('body')[0].style.overflow = 'auto';
      }
    }

    const openMenu = function (el) {
      console.log(el);
      el.nextElementSibling.classList.toggle('expand--open');
    }

    const expands = document.querySelectorAll('.expand__list');
    for (i = 0; i < expands.length; i++) {
      const nodes = expands[i].children;
      const icon = expands[i].previousElementSibling.lastElementChild;

      for (j = 0; j < nodes.length; j++) {
        if (nodes[j].classList.contains('watched')) {
          icon.classList.add('up');
          icon.classList.add('down');
          expands[i].classList.add('expand--open');
          break;
        }
      }
      
    }
    
  </script>
</html>
